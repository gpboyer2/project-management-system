# API æµ‹è¯•æ¶æ„è®¾è®¡æ–‡æ¡£

## ä¸€ã€è®¾è®¡æ¦‚è¿°

### 1.1 è®¾è®¡ç›®æ ‡

æ„å»ºä¸€å¥—å®Œæ•´çš„ API è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»ï¼Œå®ç°ï¼š
- å…¨é¢è¦†ç›–æ‰€æœ‰ API ç«¯ç‚¹ï¼ˆæ­£å¸¸æµç¨‹ + å¼‚å¸¸åœºæ™¯ï¼‰
- è‡ªåŠ¨åŒ–æ‰§è¡Œï¼Œä¸€é”®å¯åŠ¨åç«¯å¹¶è¿è¡Œæµ‹è¯•
- æ¸…æ™°ç®€æ´çš„æµ‹è¯•æŠ¥å‘Šï¼ˆæ˜¾ç¤ºæ¥å£ã€é¢„æœŸã€å®é™…ï¼‰
- æµ‹è¯•æ•°æ®è‡ªåŠ¨ç®¡ç†ï¼ˆåˆ›å»ºæ—¶æ ‡è®°ï¼Œæµ‹è¯•åç²¾å‡†åˆ é™¤ï¼‰
- ç¯å¢ƒç‹¬ç«‹ï¼Œå¯åœ¨å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒè¿è¡Œ

### 1.2 æ ¸å¿ƒåŸåˆ™

1. éç‹¬ç«‹é¡¹ç›® - æµ‹è¯•ä»£ç æ˜¯ server é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå¤ç”¨ç°æœ‰ä¾èµ–
2. è‡ªå»ºè½»é‡æ¡†æ¶ - ä¸ä¾èµ– Jest/Mochaï¼Œè‡ªå»ºç¬¦åˆéœ€æ±‚çš„æµ‹è¯•è¿è¡Œå™¨
3. æ•°æ®å®‰å…¨ - æµ‹è¯•æ•°æ®æ·»åŠ æ ‡è®°å­—æ®µï¼Œåªåˆ é™¤è‡ªå·±ç”Ÿæˆçš„æ•°æ®
4. è¿›ç¨‹è‡ªåŠ¨åŒ– - æµ‹è¯•è„šæœ¬è‡ªåŠ¨ç®¡ç†åç«¯è¿›ç¨‹ï¼ˆkill + é‡å¯ï¼‰
5. ç®€æ´æŠ¥å‘Š - æ§åˆ¶å°è¾“å‡ºï¼Œæ˜¾ç¤ºæ¥å£ã€é¢„æœŸå€¼ã€å®é™…å€¼

### 1.3 æŠ€æœ¯é€‰å‹

| æŠ€æœ¯ | ç”¨é€” | è¯´æ˜ |
|------|------|------|
| Node.js | è¿è¡Œç¯å¢ƒ | ä¸åç«¯ä¿æŒä¸€è‡´ |
| axios | HTTP å®¢æˆ·ç«¯ | å¤ç”¨å‰ç«¯çš„ API è°ƒç”¨é€»è¾‘ |
| mockjs | æµ‹è¯•æ•°æ®ç”Ÿæˆ | ç”ŸæˆåŠ¨æ€æµ‹è¯•æ•°æ® |
| è‡ªå»ºæ¡†æ¶ | æµ‹è¯•è¿è¡Œå™¨ | è½»é‡çº§æµ‹è¯•æ¡†æ¶ |

## äºŒã€æ ¸å¿ƒè®¾è®¡ç†å¿µï¼ˆæ°¸ä¹…çº¦æŸï¼‰

### 2.1 æµ‹è¯•é©±åŠ¨åç«¯ï¼ˆTDD åŸåˆ™ï¼‰

**æ ¸å¿ƒåŸåˆ™ï¼šæµ‹è¯•ç”¨ä¾‹å®šä¹‰æ­£ç¡®çš„ä¸šåŠ¡è§„èŒƒï¼Œåç«¯ä»£ç ä»¥æµ‹è¯•ä¸ºæ ‡å‡†è¿›è¡Œä¿®æ­£ã€‚**

æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰çš„æœ¬è´¨æ˜¯ï¼šå…ˆå†™æµ‹è¯•ï¼Œæµ‹è¯•å®šä¹‰äº†æ­£ç¡®çš„è¡Œä¸ºï¼Œç„¶åç¼–å†™ä»£ç è®©æµ‹è¯•é€šè¿‡ã€‚å³ä½¿åç«¯æ¥å£å·²ç»å†™å¥½ï¼Œè¿™ä¸ªåŸåˆ™ä¾ç„¶é€‚ç”¨ï¼š

1. **æµ‹è¯•æ˜¯ä¸šåŠ¡è§„èŒƒçš„æ ‡å‡†**ï¼šæµ‹è¯•ç”¨ä¾‹ä»£è¡¨äº†æ­£ç¡®çš„ã€é¢„æœŸçš„ä¸šåŠ¡è¡Œä¸ºï¼Œæ˜¯ä¸šåŠ¡éœ€æ±‚çš„å¯æ‰§è¡Œæ–‡æ¡£

2. **æµ‹è¯•å¤±è´¥æ—¶çš„å¤„ç†åŸåˆ™**ï¼š
   - å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œé¦–å…ˆè¦åˆ¤æ–­ï¼šæ˜¯æµ‹è¯•å†™å¾—ä¸å¯¹ï¼Œè¿˜æ˜¯åç«¯å®ç°ä¸ç¬¦åˆé¢„æœŸï¼Ÿ
   - å¦‚æœæ˜¯åç«¯å®ç°é—®é¢˜ï¼Œ**ä¿®æ”¹åç«¯ä»£ç **ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æµ‹è¯•å°†å°±åç«¯
   - æµ‹è¯•ä»£ç æ˜¯åˆ¤æ–­æ˜¯éçš„æ ‡å‡†ï¼Œä¸æ˜¯é…è§’

3. **å¸¸è§åœºæ™¯çš„åˆ¤æ–­å‡†åˆ™**ï¼š

   | åœºæ™¯ | æ­£ç¡®åšæ³• | é”™è¯¯åšæ³• |
   |------|----------|----------|
   | åç«¯è¿”å›æ ¼å¼ä¸ç¬¦åˆè§„èŒƒ | ä¿®æ”¹åç«¯ï¼Œè®©å…¶è¿”å›ç¬¦åˆè§„èŒƒçš„æ ¼å¼ | ä¿®æ”¹æµ‹è¯•ï¼Œå¼ºè¡Œé€‚é…é”™è¯¯çš„æ ¼å¼ |
   | åç«¯å‚æ•°æ ¡éªŒç¼ºå¤± | ä¿®æ”¹åç«¯ï¼Œæ·»åŠ å‚æ•°æ ¡éªŒ | ä¿®æ”¹æµ‹è¯•ï¼Œå»æ‰æ ¡éªŒç›¸å…³çš„ç”¨ä¾‹ |
   | åç«¯é”™è¯¯å¤„ç†ä¸å½“ | ä¿®æ”¹åç«¯ï¼Œè¿”å›æ­£ç¡®çš„ status å’Œ message | ä¿®æ”¹æµ‹è¯•ï¼Œé™ä½é¢„æœŸæ ‡å‡† |
   | åç«¯è¾¹ç•Œå€¼å¤„ç†æœ‰é—®é¢˜ | ä¿®æ”¹åç«¯ï¼Œä¿®å¤è¾¹ç•Œå€¼å¤„ç†é€»è¾‘ | ä¿®æ”¹æµ‹è¯•ï¼Œè·³è¿‡è¾¹ç•Œå€¼æµ‹è¯• |

4. **ç¦æ­¢äº‹é¡¹**ï¼š
   - [ç¦æ­¢] å› ä¸ºåç«¯ä»£ç å·²ç»å†™å¥½ï¼Œå°±é™ä½æµ‹è¯•æ ‡å‡†
   - [ç¦æ­¢] å°†"åç«¯å°±æ˜¯è¿™æ ·çš„"ä½œä¸ºä¸ä¿®æ”¹æµ‹è¯•å¤±è´¥çš„ç†ç”±
   - [ç¦æ­¢] ä¿®æ”¹æµ‹è¯•æ¥é€‚é…æ˜æ˜¾é”™è¯¯çš„ä¸šåŠ¡é€»è¾‘
   - [ç¦æ­¢] è·³è¿‡æˆ–æ³¨é‡Šæ‰å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹

5. **å¿…é¡»éµå®ˆ**ï¼š
   - [æ­£ç¡®] æµ‹è¯•å¤±è´¥æ—¶ï¼Œå…ˆåˆ†æå¤±è´¥åŸå› 
   - [æ­£ç¡®] å¦‚æœæ˜¯åç«¯é—®é¢˜ï¼Œæäº¤ issue æˆ– PR è®©åç«¯ä¿®æ”¹
   - [æ­£ç¡®] ä»¥æµ‹è¯•ç”¨ä¾‹ä½œä¸ºæ­£ç¡®æ€§çš„æœ€ç»ˆåˆ¤æ–­æ ‡å‡†
   - [æ­£ç¡®] æµ‹è¯•ä»£ç æ˜¯é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒçš„ä»·å€¼ä¸ä½äºä¸šåŠ¡ä»£ç 

**ä¸ºä»€ä¹ˆè¿™æ ·é‡è¦ï¼Ÿ**

æµ‹è¯•ä»£ç å¦‚æœè¿å°±é”™è¯¯çš„å®ç°ï¼Œå°±å¤±å»äº†æµ‹è¯•çš„æ„ä¹‰ã€‚æµ‹è¯•çš„ç›®çš„æ˜¯å‘ç°é—®é¢˜ï¼Œè€Œä¸æ˜¯æ©ç›–é—®é¢˜ã€‚å½“æµ‹è¯•å’Œå®ç°ä¸ä¸€è‡´æ—¶ï¼Œåº”è¯¥ä»¥æµ‹è¯•ä¸ºæ ‡å‡†å»ä¿®æ­£å®ç°ï¼Œè¿™æ ·äº§å“è´¨é‡æ‰èƒ½å¾—åˆ°ä¿è¯ã€‚

### 2.2 é«˜ç»´åº¦å…¨å±€å˜é‡ + Mock.js åŠ¨æ€ç”Ÿæˆ

æ‰€æœ‰æµ‹è¯•æ•°æ®å¿…é¡»ä½¿ç”¨ Mock.js åŠ¨æ€ç”Ÿæˆï¼Œå­˜å‚¨åœ¨**é«˜ç»´åº¦å…¨å±€å˜é‡**ä¸­ã€‚

### 2.3 æµ‹è¯•æµç¨‹ï¼ˆä¸¥æ ¼æŒ‰æ­¤é¡ºåºï¼‰

```
1. Mock.js åŠ¨æ€ç”Ÿæˆç”¨æˆ·åã€å¯†ç ç­‰æ•°æ®
2. è°ƒç”¨åˆ›å»ºç”¨æˆ·æ¥å£ï¼ˆåŒæ—¶æµ‹è¯•è¯¥æ¥å£çš„å¥å£®æ€§å’Œè¾¹ç•Œå€¼ï¼‰
3. åˆ›å»ºæˆåŠŸ -> æ ‡è®°å…¨å±€å˜é‡çŠ¶æ€ä¸ºå¯ç”¨
4. æ‰€æœ‰åç»­æµ‹è¯•ä½¿ç”¨è¿™ä¸ªå…¨å±€åŠ¨æ€æ•°æ®
5. æœ€åä¸€ä¸ªæµ‹è¯•ï¼šä¿®æ”¹å¯†ç æ¥å£
6. æµ‹è¯•å®Œæˆï¼Œ100% é€šè¿‡ç‡
```

### 2.4 ä¼˜åŠ¿

- **æ— çŠ¶æ€ä¾èµ–**ï¼šæ¯æ¬¡è¿è¡Œéƒ½æ˜¯æ–°çš„éšæœºæ•°æ®ï¼Œä¸å­˜åœ¨"æ—§å¯†ç å¤±æ•ˆ"é—®é¢˜
- **æ¥å£å¥å£®æ€§éªŒè¯**ï¼šåˆ›å»ºç”¨æˆ·æ¥å£ç”¨éšæœºæ•°æ®æµ‹è¯•ï¼Œè‡ªåŠ¨è¦†ç›–è¾¹ç•Œå€¼
- **æ•°æ®éš”ç¦»**ï¼šæ¯æ¬¡æµ‹è¯•è¿è¡Œå®Œå…¨ç‹¬ç«‹

### 2.5 ç¦æ­¢äº‹é¡¹

- [ç¦æ­¢] ç¦æ­¢å†™æ­»æµ‹è¯•æ•°æ®ï¼ˆå¦‚ `username: 'pwd_test_user'`, `password: 'Initial123'`ï¼‰
- [ç¦æ­¢] ç¦æ­¢ä½¿ç”¨å›ºå®šå­—ç¬¦ä¸²ä½œä¸ºæµ‹è¯•æ•°æ®
- [ç¦æ­¢] ç¦æ­¢ä¾èµ–ä¸Šæ¬¡è¿è¡Œæ®‹ç•™çš„æ•°æ®

### 2.6 å¿…é¡»ä½¿ç”¨

- [æ­£ç¡®] æ‰€æœ‰æµ‹è¯•æ•°æ®ç”¨ Mock.js åŠ¨æ€ç”Ÿæˆ
- [æ­£ç¡®] ç”Ÿæˆçš„æ•°æ®å­˜å‚¨åœ¨å…¨å±€å˜é‡ä¸­
- [æ­£ç¡®] ä¿®æ”¹å¯†ç æµ‹è¯•å¿…é¡»æ”¾åœ¨æœ€åæ‰§è¡Œ

### 2.7 å®ç°è§„èŒƒç¤ºä¾‹

```javascript
// æ­£ç¡®ç¤ºä¾‹
const mock = require('mockjs');

// é«˜ç»´åº¦å…¨å±€å˜é‡
const GLOBAL_TEST_DATA = {
  user: {
    username: mock('@word'),  // åŠ¨æ€ç”Ÿæˆ
    password: mock('@string("lower", 8, 16)'),  // åŠ¨æ€ç”Ÿæˆ
    realName: mock('@cname'),
    // ...
  }
};
```

## ä¸‰ã€æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æµ‹è¯•è¿è¡Œå™¨å±‚                         â”‚
â”‚              runner.js (ç¨‹åºå…¥å£)                        â”‚
â”‚  - è§£æå‘½ä»¤è¡Œå‚æ•°                                         â”‚
â”‚  - è‡ªåŠ¨ç®¡ç†åç«¯è¿›ç¨‹ (kill + é‡å¯)                         â”‚
â”‚  - åè°ƒå„æ¨¡å—æ‰§è¡Œ                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      HTTP å®¢æˆ·ç«¯å±‚                       â”‚
â”‚                lib/api-client.js                         â”‚
â”‚  - å°è£… axiosï¼Œå¤ç”¨å‰ç«¯è¯·æ±‚é€»è¾‘                           â”‚
â”‚  - è‡ªåŠ¨ç®¡ç†è®¤è¯ token                                     â”‚
â”‚  - è¯·æ±‚/å“åº”æ—¥å¿—è®°å½•                                      â”‚
â”‚  - expect é¢„æœŸéªŒè¯                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æµ‹è¯•æ‰§è¡Œå±‚                          â”‚
â”‚                lib/test-runner.js                        â”‚
â”‚  - æä¾› test/describe è¯­æ³•                                â”‚
â”‚  - æ”¯æŒå¼‚æ­¥æµ‹è¯•                                           â”‚
â”‚  - ç»Ÿè®¡æ‰§è¡Œç»“æœ                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å·¥å…·å’Œè¾…åŠ©å±‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ assertions.jsâ”‚  â”‚process-mgr.jsâ”‚  â”‚data-tracker.jsâ”‚  â”‚
â”‚  â”‚   æ–­è¨€å·¥å…·    â”‚  â”‚   è¿›ç¨‹ç®¡ç†    â”‚  â”‚   æ•°æ®è¿½è¸ª     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚data-cleaner.jsâ”‚  â”‚  reporter.js â”‚                      â”‚
â”‚  â”‚   æ•°æ®æ¸…ç†     â”‚  â”‚   æŠ¥å‘Šç”Ÿæˆ    â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ‰§è¡Œæµç¨‹

```
å¯åŠ¨æµ‹è¯•è„šæœ¬
    â”‚
    â–¼
[å¯é€‰] æŸ¥æ‰¾å¹¶ kill ç°æœ‰åç«¯è¿›ç¨‹
    â”‚
    â–¼
å¯åŠ¨åç«¯æœåŠ¡ (child_process.spawn)
    â”‚
    â–¼
ç­‰å¾…åç«¯å°±ç»ª (å¥åº·æ£€æŸ¥è½®è¯¢)
    â”‚
    â–¼
æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ (æŒ‰æ¨¡å—é¡ºåºæ‰§è¡Œ)
    â”‚
    â”œâ”€â–º è®¤è¯æ¨¡å— (ç™»å½•è·å– token)
    â”‚
    â”œâ”€â–º ç”¨æˆ·ç®¡ç†æ¨¡å—
    â”‚
    â”œâ”€â–º è§’è‰²æƒé™æ¨¡å—
    â”‚
    â””â”€â–º ä¸šåŠ¡æ¨¡å— (æµç¨‹å›¾/å±‚çº§/æŠ¥æ–‡ç­‰)
    â”‚
    â–¼
æ”¶é›†æµ‹è¯•ç»“æœ
    â”‚
    â–¼
æ¸…ç†æµ‹è¯•æ•°æ® (æŒ‰æ ‡è®°å­—æ®µç²¾å‡†åˆ é™¤)
    â”‚
    â–¼
è¾“å‡ºæµ‹è¯•æŠ¥å‘Š (æ§åˆ¶å°è¾“å‡º)
    â”‚
    â–¼
é€€å‡ºç¨‹åº
```

### 3.3 ç›®å½•ç»“æ„

```
server/
â”œâ”€â”€ package.json                 # ç»Ÿä¸€çš„ä¾èµ–é…ç½®
â”œâ”€â”€ ...ï¼ˆåŸæœ‰ä»£ç ï¼‰
â””â”€â”€ test/
    â””â”€â”€ api/
        â”œâ”€â”€ runner.js            # æµ‹è¯•å…¥å£
        â”œâ”€â”€ context.js           # å…¨å±€ä¸Šä¸‹æ–‡ç®¡ç†ï¼ˆå…±äº«ApiClientã€DataTrackerç­‰ï¼‰
        â”œâ”€â”€ lib/                 # æ ¸å¿ƒæ¡†æ¶
        â”‚   â”œâ”€â”€ api-client.js   # HTTP å®¢æˆ·ç«¯
        â”‚   â”œâ”€â”€ test-runner.js  # æµ‹è¯•è¿è¡Œå™¨
        â”‚   â”œâ”€â”€ assertions.js   # æ–­è¨€å·¥å…·
        â”‚   â””â”€â”€ reporter.js     # æŠ¥å‘Šç”Ÿæˆå™¨
        â”œâ”€â”€ utils/               # å·¥å…·æ¨¡å—
        â”‚   â”œâ”€â”€ process-manager.js  # è¿›ç¨‹ç®¡ç†
        â”‚   â”œâ”€â”€ data-tracker.js     # æ•°æ®è¿½è¸ª
        â”‚   â”œâ”€â”€ data-cleaner.js     # æ•°æ®æ¸…ç†
        â”‚   â””â”€â”€ mock-data-generator.js  # Mock æ•°æ®ç”Ÿæˆ
        â””â”€â”€ modules/             # æµ‹è¯•æ¨¡å—ï¼ˆæŒ‰åŠŸèƒ½åˆ†ç»„ï¼‰
            â”œâ”€â”€ {æ¨¡å—å}/
            â”‚   â”œâ”€â”€ index.js     # ä¸»æµ‹è¯•æ–‡ä»¶
            â”‚   â”œâ”€â”€ boundary.js  # è¾¹ç•Œå€¼æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
            â”‚   â””â”€â”€ {åœºæ™¯}.js    # ç‰¹æ®Šåœºæ™¯æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
            â”œâ”€â”€ business.js      # è·¨æ¨¡å—è¾¹ç•Œæµ‹è¯•ï¼ˆå¯é€‰ï¼‰
            â””â”€â”€ ...              # å…¶ä»–æ¨¡å—
```

**ç›®å½•ç»“æ„è§„åˆ™**ï¼š
1. æ¯ä¸ªä¸šåŠ¡æ¨¡å—ç‹¬ç«‹æˆä¸€ä¸ªç›®å½•
2. `index.js` å­˜æ”¾è¯¥æ¨¡å—çš„ä¸»è¦æµ‹è¯•ç”¨ä¾‹
3. `boundary.js` å­˜æ”¾è¯¥æ¨¡å—çš„è¾¹ç•Œå€¼å®¹é”™æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
4. ç‰¹æ®Šåœºæ™¯æµ‹è¯•ï¼ˆå¦‚ logout-onlyï¼‰å¯å•ç‹¬æˆæ–‡ä»¶ï¼Œå‘½åä¸º `{åœºæ™¯}.js`
5. è·¨æ¨¡å—çš„è¾¹ç•Œæµ‹è¯•æ”¾åœ¨ modules æ ¹ç›®å½•
6. `context.js` æ˜¯å…¨å±€ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œæ‰€æœ‰æµ‹è¯•æ¨¡å—é€šè¿‡å®ƒè·å–å…±äº«å®ä¾‹

### 3.4 npm scripts é…ç½®

```json
{
  "scripts": {
    "test": "node test/api/runner.js",
    "test:auth": "node test/api/runner.js --module=auth"
  }
}
```

## å››ã€API å“åº”è§„èŒƒ

### 4.1 ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰ API æ¥å£å¿…é¡»éµå¾ªä»¥ä¸‹å“åº”æ ¼å¼ï¼š

```javascript
{
  status: 'success' | 'error',  // ä¸šåŠ¡çŠ¶æ€ï¼ˆé HTTP çŠ¶æ€ç ï¼‰
  message: string,                // æç¤ºä¿¡æ¯
  datum: any                      // æˆåŠŸæ—¶ä¸ºä¸šåŠ¡æ•°æ®ï¼Œå¤±è´¥æ—¶ä¸º null/undefined
}
```

### 4.2 status å­—æ®µå®šä¹‰è§„èŒƒï¼ˆæ ¸å¿ƒï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼š

- success = è¯·æ±‚è¢«åç«¯æ­£ç¡®å¤„ç†å¹¶å“åº”ï¼Œæ— è®ºè¿”å›æ•°æ®æ˜¯å¦ä¸ºç©º
- error = è¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­é‡åˆ°ä¸šåŠ¡å±‚é¢çš„é—®é¢˜ï¼ˆå‚æ•°ã€æƒé™ã€å¼‚å¸¸ç­‰ï¼‰

**status: success çš„åœºæ™¯**

| åœºæ™¯ | status | datum | åŸå›  |
|------|--------|-------|------|
| æ“ä½œæˆåŠŸå®Œæˆ | success | ä¸šåŠ¡æ•°æ® | è¯·æ±‚è¢«æ­£ç¡®å¤„ç† |
| åˆ—è¡¨æŸ¥è¯¢ä¸ºç©º | success | { list: [], pagination: {...} } | æŸ¥è¯¢æˆåŠŸï¼Œåªæ˜¯æ²¡æœ‰æ•°æ® |
| æŸ¥è¯¢ä¸å­˜åœ¨çš„ ID | success | null | æŸ¥è¯¢æˆåŠŸï¼Œä½†ç»“æœä¸ºç©ºï¼ˆç±»ä¼¼ SQL æŸ¥è¯¢è¿”å› 0 rowsï¼‰ |
| ç™»å½•æˆåŠŸ | success | { accessToken, ... } | è®¤è¯æˆåŠŸ |
| åˆ›å»º/æ›´æ–°/åˆ é™¤æˆåŠŸ | success | { success: true, id: xxx } | æ“ä½œæˆåŠŸ |

**status: error çš„åœºæ™¯**

| åœºæ™¯ | status | datum | åŸå›  |
|------|--------|-------|------|
| å‚æ•°ç¼ºå¤±æˆ–æ ¼å¼é”™è¯¯ | error | null | ä¸šåŠ¡å±‚é¢çš„è¾“å…¥é”™è¯¯ |
| å‚æ•°éªŒè¯å¤±è´¥ | error | { errorList: [...] } | ä¸šåŠ¡è§„åˆ™ä¸æ»¡è¶³ |
| æƒé™ä¸è¶³ | error | null | ç”¨æˆ·æ— æƒæ‰§è¡Œæ­¤æ“ä½œ |
| æœªç™»å½• | error | null | éœ€è¦è®¤è¯æ‰èƒ½è®¿é—® |
| èµ„æºä¸å­˜åœ¨ï¼ˆæ›´æ–°/åˆ é™¤æ—¶ï¼‰ | error | null | å°è¯•æ“ä½œä¸€ä¸ªä¸å­˜åœ¨çš„èµ„æº |
| èµ„æºå†²çªï¼ˆå¦‚é‡å¤åˆ›å»ºï¼‰ | error | null | ä¸šåŠ¡çº¦æŸå†²çª |
| æœåŠ¡å™¨å¼‚å¸¸ | error | null | åç«¯å¤„ç†å‡ºé”™ |

**è¾¹ç•Œåœºæ™¯å†³ç­–åŸåˆ™ï¼ˆä¸¥æ ¼æ›´æ–°æ¨¡å¼ï¼‰**

1. æŸ¥è¯¢ç±»æ“ä½œï¼ˆGETï¼‰
   - æŸ¥ä¸åˆ°æ•°æ® = successï¼ˆdatum ä¸ºç©ºï¼‰
   - ç”¨æˆ·æ„å›¾æ˜¯"çœ‹çœ‹æœ‰æ²¡æœ‰"ï¼Œ"æ²¡æœ‰"æ˜¯æœ‰æ•ˆçš„æŸ¥è¯¢ç»“æœ
   - ç±»æ¯”ï¼šSELECT * FROM users WHERE id = 999999 â†’ è¿”å›ç©ºç»“æœé›†ï¼Œä¸æ˜¯é”™è¯¯

2. æ“ä½œç±»æ“ä½œï¼ˆPOST/PUT/DELETEï¼‰- é‡‡ç”¨ä¸¥æ ¼æ›´æ–°æ¨¡å¼
   - æ“ä½œçš„ç›®æ ‡ä¸å­˜åœ¨ = error
   - ç”¨æˆ·æ„å›¾æ˜¯"ä¿®æ”¹/åˆ é™¤è¿™ä¸ªå…·ä½“çš„æ•°æ®"ï¼Œæ•°æ®ä¸å­˜åœ¨åˆ™æ“ä½œå¤±è´¥
   - ç±»æ¯”ï¼šUPDATE users SET name = 'x' WHERE id = 999999 â†’ å½±å“ 0 rowsï¼Œåº”æŠ¥é”™
   - æ›´æ–°ä¸å­˜åœ¨ï¼šerrorï¼ˆ"ç”¨æˆ·ä¸å­˜åœ¨"ï¼‰
   - åˆ é™¤ä¸å­˜åœ¨ï¼šerrorï¼ˆ"ç”¨æˆ·ä¸å­˜åœ¨"ï¼‰

3. åˆ—è¡¨æŸ¥è¯¢
   - ç©ºåˆ—è¡¨ = successï¼ˆ{ list: [], pagination: {...} }ï¼‰
   - åˆ†é¡µè¶…å‡ºèŒƒå›´ = successï¼ˆè¿”å›ç©ºåˆ—è¡¨ï¼Œä¸æ˜¯é”™è¯¯ï¼‰

**ä¸¥æ ¼æ›´æ–° vs å¹‚ç­‰æ›´æ–°**

| æ¨¡å¼ | ç›®æ ‡ä¸å­˜åœ¨ | é€‚ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|------------|----------|------|
| ä¸¥æ ¼æ›´æ–° | error | èµ„æ–™ä¿®æ”¹ã€ä¸šåŠ¡æ“ä½œ | ä¿®æ”¹ç”¨æˆ·æ˜µç§°ã€æ‰£å‡åº“å­˜ |
| å¹‚ç­‰æ›´æ–° | success | é…ç½®åŒæ­¥ã€çŠ¶æ€è®¾ç½® | ç¡®ä¿ç”¨æˆ·çŠ¶æ€=1ã€é…ç½®åŒæ­¥ |

**æœ¬é¡¹ç›®é‡‡ç”¨ä¸¥æ ¼æ›´æ–°æ¨¡å¼ä½œä¸ºé»˜è®¤è¡Œä¸ºã€‚**

### 4.3 å“åº”å¤„ç†è§„èŒƒ

| åœºæ™¯ | HTTP çŠ¶æ€ç  | status å­—æ®µ | datum å€¼ | å‰ç«¯å¤„ç† |
|------|------------|-------------|---------|----------|
| æ“ä½œæˆåŠŸ | 200 | success | ä¸šåŠ¡æ•°æ® | if (response.status === 'success') |
| åˆ—è¡¨æŸ¥è¯¢ä¸ºç©º | 200 | success | { list: [] } | æ­£å¸¸å¤„ç†ç©ºæ•°ç»„ |
| æŸ¥è¯¢ä¸å­˜åœ¨ | 200 | success | null | æ­£å¸¸å¤„ç†ï¼ˆ"æœªæ‰¾åˆ°"ï¼‰ |
| å‚æ•°é”™è¯¯ | 200 | error | null | æ˜¾ç¤º response.message |
| æƒé™ä¸è¶³ | 200 | error | null | æ˜¾ç¤º response.message / è·³è½¬ç™»å½• |
| æœåŠ¡å™¨å¼‚å¸¸ | 200 | error | null | æ˜¾ç¤º response.message |

### 4.4 åˆ—è¡¨åˆ†é¡µå“åº”æ ¼å¼

```javascript
{
  status: 'success',
  message: 'æ“ä½œæˆåŠŸ',
  datum: {
    list: [],           // æ•°æ®åˆ—è¡¨
    pagination: {       // åˆ†é¡µä¿¡æ¯
      current_page: 1,  // å½“å‰é¡µç ï¼ˆä»1å¼€å§‹ï¼‰
      page_size: 20,    // æ¯é¡µæ•°é‡
      total: 100        // æ€»è®°å½•æ•°
    }
  }
}
```

### 4.5 æ¥å£è°ƒç”¨è§„èŒƒ

å…¥å‚è§„èŒƒï¼š
- æ‰€æœ‰æ¥å£é€šè¿‡ dataï¼ˆè¯·æ±‚ä½“ï¼‰æˆ– paramsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰ä¼ å‚
- ç¦æ­¢ä½¿ç”¨ `/api/xxx/{id}` è·¯å¾„å‚æ•°
- å…¥å‚é»˜è®¤ä¸ºæ•°ç»„ï¼Œå¤©ç„¶æ”¯æŒæ‰¹é‡æ“ä½œ

ç¤ºä¾‹ï¼š
```javascript
// åˆ é™¤æ¥å£ - æ”¯æŒå•ä¸ªå’Œæ‰¹é‡åˆ é™¤
POST /api/{module}/delete
Request: { data: [id1, id2, ...] }
```

## äº”ã€API è°ƒç”¨é¢„æœŸéªŒè¯è§„èŒƒï¼ˆå¼ºåˆ¶ï¼‰

### 5.1 æ ¸å¿ƒè§„åˆ™

**æ‰€æœ‰ API è°ƒç”¨å¿…é¡»æ˜¾å¼å£°æ˜é¢„æœŸç»“æœï¼Œé¢„æœŸä¸å®é™…ä¸åŒ¹é…æ—¶æµ‹è¯•è‡ªåŠ¨å¤±è´¥ã€‚**

### 5.2 expect å‚æ•°ï¼ˆå¿…å¡«ï¼‰

```javascript
// æ­£ç¡®ï¼šæ˜¾å¼å£°æ˜é¢„æœŸ
await apiClient.get(url, params, { expect: 'success' });
await apiClient.post(url, data, { expect: 'error' });

// é”™è¯¯ï¼šä¸å£°æ˜ expect
await apiClient.get(url, params);  // æŠ›å‡ºé”™è¯¯ï¼šAPI è°ƒç”¨å¿…é¡»å£°æ˜ expect é€‰é¡¹
```

### 5.3 expect å€¼å®šä¹‰

| å€¼ | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|----|------|----------|
| `success` | é¢„æœŸ API è¿”å› status: success | æ­£å¸¸ä¸šåŠ¡æµç¨‹ã€å¢åˆ æ”¹æŸ¥æˆåŠŸ |
| `error` | é¢„æœŸ API è¿”å› status: error | å‚æ•°æ ¡éªŒå¤±è´¥ã€æƒé™ä¸è¶³ã€èµ„æºä¸å­˜åœ¨ |

### 5.4 æµ‹è¯•ç”¨ä¾‹å†™æ³•

#### æ­£å‘æµ‹è¯•ï¼ˆé¢„æœŸæˆåŠŸï¼‰

```javascript
test('æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ - æ­£å¸¸æƒ…å†µ', async () => {
  await ensureLoggedIn();
  await apiClient.get('/user/list', null, { expect: 'success' });
});
```

#### è´Ÿå‘æµ‹è¯•ï¼ˆé¢„æœŸå¤±è´¥ï¼‰

```javascript
// é”™è¯¯çš„æ—§å†™æ³•ï¼ˆç¦æ­¢ï¼‰
test('åˆ›å»ºç”¨æˆ· - ç¼ºå°‘å¿…å¡«å­—æ®µ', async () => {
  try {
    await apiClient.post('/user/create', { data: [{ real_name: 'xxx' }] });
    expect(true).to.equal(false);
  } catch (error) {
    expect(error).to.be.truthy();
  }
});

// æ­£ç¡®çš„æ–°å†™æ³•ï¼ˆå¿…é¡»ï¼‰
test('åˆ›å»ºç”¨æˆ· - ç¼ºå°‘å¿…å¡«å­—æ®µ', async () => {
  await apiClient.post('/user/create', {
    data: [{ real_name: 'xxx' }]
  }, { expect: 'error' });
});
```

### 5.5 æ—¥å¿—è¾“å‡º

```
[æµ‹è¯•] åˆ›å»ºç”¨æˆ· - ç¼ºå°‘å¿…å¡«å­—æ®µ
  [è¯·æ±‚] POST /user/create
  [é¢„æœŸ] status: error
  [å®é™…] status: error, message: åˆ›å»ºå¤±è´¥: ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º, 9ms
  [âœ“ åŒ¹é…]
[é€šè¿‡] åˆ›å»ºç”¨æˆ· - ç¼ºå°‘å¿…å¡«å­—æ®µ (20ms)
```

### 5.6 ç¦æ­¢äº‹é¡¹

- [ç¦æ­¢] API è°ƒç”¨ä¸å£°æ˜ expect å‚æ•°
- [ç¦æ­¢] ä½¿ç”¨ try-catch æ¨¡æ¿ä»£ç å¤„ç†é¢„æœŸé”™è¯¯
- [ç¦æ­¢] expect å€¼å†™é”™ï¼ˆé 'success' æˆ– 'error'ï¼‰

### 5.7 å¿…é¡»ä½¿ç”¨

- [æ­£ç¡®] æ‰€æœ‰ API è°ƒç”¨å¿…é¡»å£°æ˜ { expect: 'success' | 'error' }
- [æ­£ç¡®] æ­£å‘æµ‹è¯•ä½¿ç”¨ expect: 'success'
- [æ­£ç¡®] è´Ÿå‘æµ‹è¯•ä½¿ç”¨ expect: 'error'
- [æ­£ç¡®] é¢„æœŸä¸åŒ¹é…æ—¶æµ‹è¯•è‡ªåŠ¨å¤±è´¥ï¼Œæ¡†æ¶è‡ªåŠ¨å¤„ç†

### 5.8 å“åº”çŠ¶æ€åˆ¤å®šåŸåˆ™ï¼ˆæ ¸å¿ƒçº¦æŸï¼‰

**æµ‹è¯•çš„æœ¬è´¨æ˜¯éªŒè¯ï¼Œä¸å­˜åœ¨ä»»ä½•å½¢å¼çš„"é»˜è®¤å½“ä½œæ²¡é—®é¢˜"çš„æ¦‚å¿µã€‚**

æˆåŠŸ/é€šè¿‡/æ­£ç¡®å¿…é¡»æ˜¯æ˜ç¡®éªŒè¯åçš„ç»“æœã€‚ä»»ä½•ä¸ç¡®å®šã€æ— æ³•åˆ¤å®šã€ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µï¼Œéƒ½å¿…é¡»è¢«è§†ä¸ºå¤±è´¥ã€‚

åˆ¤å®šé€»è¾‘ï¼š
```javascript
// æ­£ç¡®åˆ¤å®šï¼ˆapi-client.jsï¼‰
if (data.status === 'success' || data.status === 'error') {
  actualStatus = data.status;
} else if (data.success === true) {
  actualStatus = 'success';
} else if (data.success === false) {
  actualStatus = 'error';
} else {
  actualStatus = 'error'; // æ— æ³•åˆ¤å®š = å¤±è´¥
}
```

åŸå› ï¼š
- åç«¯è¿”å›ä¸ç¬¦åˆè§„èŒƒçš„å“åº”æ—¶ï¼Œåº”è¯¥è¢«æµ‹è¯•æ£€æµ‹å‡ºæ¥
- ä»»ä½•"ä¹è§‚æ¨æ–­"éƒ½ä¼šæ©ç›–æ½œåœ¨çš„ BUGï¼Œè¿èƒŒæµ‹è¯•çš„æ ¹æœ¬ç›®çš„
- æµ‹è¯•çš„æ€åº¦æ˜¯æ€€ç–‘ï¼Œä¸æ˜¯ä¿¡ä»»

### 5.9 ç¦æ­¢äº‹é¡¹

- [ç¦æ­¢] å“åº”æ ¼å¼æ— æ³•åˆ¤å®šæ—¶ï¼Œè®¾ç½® actualStatus = 'success'
- [ç¦æ­¢] ä½¿ç”¨"é»˜è®¤é€šè¿‡"ã€"é»˜è®¤æˆåŠŸ"ã€"é»˜è®¤æ­£ç¡®"è¿™ç±»é€»è¾‘
- [ç¦æ­¢] è®©ä¸ç¬¦åˆé¢„æœŸçš„å“åº”é™é»˜é€šè¿‡æµ‹è¯•
- [ç¦æ­¢] çœç•¥éªŒè¯æ­¥éª¤ï¼Œå‡è®¾è¿”å›å€¼ä¸€å®šæ­£ç¡®
- [ç¦æ­¢] ç”¨ `else { /* é»˜è®¤æ²¡é—®é¢˜ */ }` è¿™ç§å†™æ³•
- [ç¦æ­¢] åœ¨æ¡ä»¶åˆ¤æ–­é—æ¼åˆ†æ”¯æ—¶ä¸æŠ¥é”™
- [ç¦æ­¢] å¯¹ä¸ç¡®å®šçš„çŠ¶æ€è¿”å›"æ­£å¸¸"ã€"æœ‰æ•ˆ"ã€"å¯ç”¨"ç­‰ä¹è§‚æ¨æ–­

### 5.10 è¾¹ç•Œå€¼å®¹é”™æµ‹è¯•ï¼ˆå¼ºåˆ¶ï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼šæ¯ä¸ª API æ¥å£å¿…é¡»é€šè¿‡æ„é€ å„ç§è¾¹ç•Œå€¼ã€å¼‚å¸¸å‚æ•°ã€ä¸ç¬¦åˆè§„èŒƒçš„å…¥å‚æ¥éªŒè¯æ¥å£çš„å®¹é”™èƒ½åŠ›ã€‚

æµ‹è¯•å¿…é¡»è¦†ç›–ä»¥ä¸‹åœºæ™¯ï¼š

| æµ‹è¯•ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| **ç©ºå€¼æµ‹è¯•** | å‚æ•°ä¸ºç©ºã€nullã€undefinedã€ç©ºå­—ç¬¦ä¸²ã€ç©ºæ•°ç»„ | `{ data: [] }`, `{ name: '' }`, `{ id: null }` |
| **ç±»å‹é”™è¯¯** | å‚æ•°ç±»å‹ä¸åŒ¹é… | `{ id: "string" }` ä¼ æ•°å­—, `{ age: "abc" }` ä¼ å­—ç¬¦ä¸² |
| **é•¿åº¦è¾¹ç•Œ** | è¶…é•¿ã€è¿‡çŸ­ã€ä¸´ç•Œå€¼ | `{ name: 1ä¸ªå­—ç¬¦ }`, `{ name: 1000ä¸ªå­—ç¬¦ }` |
| **èŒƒå›´è¾¹ç•Œ** | è¶…å‡ºèŒƒå›´ã€è´Ÿæ•°ã€0 | `{ page: -1 }`, `{ page: 999999 }`, `{ count: 0 }` |
| **æ ¼å¼é”™è¯¯** | é‚®ç®±ã€æ‰‹æœºå·ã€URL æ ¼å¼é”™è¯¯ | `{ email: "not-an-email" }` |
| **ç¼ºå¤±å‚æ•°** | å¿…å¡«å‚æ•°ç¼ºå¤± | ä¸ä¼  `username`, ä¸ä¼  `data` |
| **å¤šä½™å‚æ•°** | ä¼ å…¥æ¥å£ä¸éœ€è¦çš„å‚æ•° | `{ extra: "value" }` |
| **ç‰¹æ®Šå­—ç¬¦** | SQL æ³¨å…¥ã€XSSã€Unicode ç‰¹æ®Šå­—ç¬¦ | `{ name: "'; DROP TABLE--" }` |
| **ç¼–ç é—®é¢˜** | é ASCII å­—ç¬¦ã€ä¹±ç  | `{ name: "ğŸ˜€ğŸ‰" }`, `{ name: "\\u0000" }` |
| **ç»„åˆå¼‚å¸¸** | å¤šä¸ªå‚æ•°åŒæ—¶å¼‚å¸¸ | åŒæ—¶ä¼ ç©ºå€¼å’Œé”™è¯¯ç±»å‹ |

#### è¾¹ç•Œå€¼æµ‹è¯•ç¤ºä¾‹

```javascript
// ç¤ºä¾‹ 1: åˆ›å»ºç”¨æˆ·æ¥å£çš„è¾¹ç•Œå€¼æµ‹è¯•
describe('ç”¨æˆ·ç®¡ç† - è¾¹ç•Œå€¼å®¹é”™æµ‹è¯•', () => {
  // ç©ºå€¼æµ‹è¯•
  test('åˆ›å»ºç”¨æˆ· - ç”¨æˆ·åä¸ºç©ºå­—ç¬¦ä¸²', async () => {
    await apiClient.post('/user/create', {
      data: [{ user_name: '', password: 'password123' }]
    }, { expect: 'error' });
  });

  // é•¿åº¦è¾¹ç•Œ
  test('åˆ›å»ºç”¨æˆ· - ç”¨æˆ·åè¶…é•¿', async () => {
    await apiClient.post('/user/create', {
      data: [{ user_name: 'a'.repeat(1000), password: 'password123' }]
    }, { expect: 'error' });
  });

  // ç±»å‹é”™è¯¯
  test('åˆ›å»ºç”¨æˆ· - role_id ä¸ºå­—ç¬¦ä¸²', async () => {
    await apiClient.post('/user/create', {
      data: [{ user_name: 'test', password: 'password123', role_id: 'abc' }]
    }, { expect: 'error' });
  });

  // èŒƒå›´è¾¹ç•Œ
  test('æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ - page ä¸ºè´Ÿæ•°', async () => {
    await apiClient.get('/user/list', { current_page: -1, page_size: 10 }, { expect: 'error' });
  });

  test('æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ - page_size è¶…å¤§', async () => {
    await apiClient.get('/user/list', { current_page: 1, page_size: 999999 }, { expect: 'error' });
  });

  // ç‰¹æ®Šå­—ç¬¦
  test('åˆ›å»ºç”¨æˆ· - ç”¨æˆ·åå« SQL æ³¨å…¥å­—ç¬¦', async () => {
    await apiClient.post('/user/create', {
      data: [{ user_name: "'; DROP TABLE users; --", password: 'password123' }]
    }, { expect: 'error' }); // æˆ–è€… successï¼Œå–å†³äºä¸šåŠ¡æ˜¯å¦å…è®¸ç‰¹æ®Šå­—ç¬¦
  });

  // Unicode å­—ç¬¦
  test('åˆ›å»ºç”¨æˆ· - ç”¨æˆ·åå« Emoji', async () => {
    await apiClient.post('/user/create', {
      data: [{ user_name: 'userğŸ˜€ğŸ‰', password: 'password123' }]
    }, { expect: 'success' }); // åº”è¯¥å…è®¸æ­£å¸¸ Unicode å­—ç¬¦
  });
});

// ç¤ºä¾‹ 2: ç™»å½•æ¥å£çš„è¾¹ç•Œå€¼æµ‹è¯•
describe('è®¤è¯æ¨¡å— - è¾¹ç•Œå€¼å®¹é”™æµ‹è¯•', () => {
  test('ç™»å½• - ç¼ºå°‘ç”¨æˆ·å', async () => {
    await apiClient.post('/auth/login', {
      password: 'password123'
    }, { expect: 'error' });
  });

  test('ç™»å½• - ç¼ºå°‘å¯†ç ', async () => {
    await apiClient.post('/auth/login', {
      username: 'admin'
    }, { expect: 'error' });
  });

  test('ç™»å½• - ç”¨æˆ·åä¸ºç©ºå­—ç¬¦ä¸²', async () => {
    await apiClient.post('/auth/login', {
      username: '',
      password: 'password123'
    }, { expect: 'error' });
  });

  test('ç™»å½• - å¯†ç ä¸ºç©ºå­—ç¬¦ä¸²', async () => {
    await apiClient.post('/auth/login', {
      username: 'admin',
      password: ''
    }, { expect: 'error' });
  });

  test('ç™»å½• - ç”¨æˆ·åå«ç‰¹æ®Šå­—ç¬¦', async () => {
    await apiClient.post('/auth/login', {
      username: '<script>alert("xss")</script>',
      password: 'password123'
    }, { expect: 'error' }); // æˆ–è€… successï¼Œå–å†³äºä¸šåŠ¡
  });
});
```

#### è¾¹ç•Œå€¼æµ‹è¯•è¦†ç›–è¦æ±‚

æ¯ä¸ª API æ¥å£å¿…é¡»è¦†ç›–çš„è¾¹ç•Œå€¼åœºæ™¯ï¼š

| å‚æ•°ç±»å‹ | å¿…é¡»æµ‹è¯•çš„è¾¹ç•Œå€¼ |
|---------|-----------------|
| å­—ç¬¦ä¸² | ç©ºã€å•å­—ç¬¦ã€"null "ã€" undefined"ã€è¶…é•¿ã€ç‰¹æ®Šå­—ç¬¦ã€SQL æ³¨å…¥ã€XSS |
| æ•°å­— | 0ã€è´Ÿæ•°ã€æå¤§å€¼ã€éæ•°å­—å­—ç¬¦ä¸² |
| å¸ƒå°”å€¼ | trueã€falseã€0ã€1ã€"true"ã€"false" |
| æ•°ç»„ | ç©ºã€å•å…ƒç´ ã€è¶…é•¿ã€å…ƒç´ ç±»å‹é”™è¯¯ |
| å¯¹è±¡ | ç©ºã€ç¼ºå¤±å­—æ®µã€å¤šä½™å­—æ®µã€åµŒå¥—é”™è¯¯ |
| æšä¸¾ | æ— æ•ˆå€¼ã€è¾¹ç•Œå€¼ã€å¤§å°å†™å˜ä½“ |

#### Mock.js æ„é€ è¾¹ç•Œå€¼æ•°æ®

ä½¿ç”¨ Mock.js å’Œæ‰‹å·¥æ–¹æ³•æ„é€ è¾¹ç•Œå€¼æµ‹è¯•æ•°æ®ï¼š

```javascript
const mock = require('mockjs');

// è¾¹ç•Œå€¼æ•°æ®æ„é€ å·¥å…·
const BoundaryData = {
  // ç©ºå€¼
  empty: () => ['', null, undefined, []],

  // è¶…é•¿å­—ç¬¦ä¸²
  longString: (length = 10000) => 'a'.repeat(length),

  // SQL æ³¨å…¥æµ‹è¯•å­—ç¬¦ä¸²
  sqlInjection: () => [
    "'; DROP TABLE users; --",
    "' OR '1'='1",
    "1' AND '1'='1",
    "admin'--",
    "' UNION SELECT * FROM users--"
  ],

  // XSS æµ‹è¯•å­—ç¬¦ä¸²
  xss: () => [
    '<script>alert("xss")</script>',
    '<img src=x onerror=alert("xss")>',
    'javascript:alert("xss")',
    '<iframe src="javascript:alert(\'xss\')">',
    '"><script>alert(String.fromCharCode(88,83,83))</script>'
  ],

  // ç‰¹æ®Š Unicode å­—ç¬¦
  unicode: () => [
    'ğŸ˜€ğŸ‰ğŸŠ',  // Emoji
    '\u0000',   // NULL å­—ç¬¦
    '\u202E',   // ä»å³åˆ°å·¦è¦†ç›–å­—ç¬¦
    '\uFEFF',   // é›¶å®½ä¸æ¢è¡Œç©ºæ ¼
    'ä¸­æ–‡æµ‹è¯•',
    'Î•Î»Î»Î·Î½Î¹ÎºÎ¬',  // å¸Œè…Šè¯­
    'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'   // é˜¿æ‹‰ä¼¯è¯­
  ],

  // æ ¼å¼é”™è¯¯çš„å€¼
  malformed: () => [
    { email: 'not-an-email' },
    { email: '@example.com' },
    { email: 'user@' },
    { phone: '123' },
    { phone: 'abcdefghij' },
    { phone: '+1234567890123456' }
  ],

  // ç±»å‹é”™è¯¯
  typeError: () => [
    { id: 'string-instead-of-number' },
    { count: 'nan' },
    { flag: 'yes-instead-of-boolean' },
    { date: 20230101 }  // é”™è¯¯çš„æ—¥æœŸæ ¼å¼
  ]
};
```

#### è¾¹ç•Œå€¼æµ‹è¯•ç¦æ­¢äº‹é¡¹

- [ç¦æ­¢] åªæµ‹è¯•æ­£å¸¸åœºæ™¯ï¼Œç¼ºå°‘è¾¹ç•Œå€¼æµ‹è¯•
- [ç¦æ­¢] åªè¦†ç›– 1-2 ç§è¾¹ç•Œæƒ…å†µï¼Œæœªå…¨é¢è¦†ç›–
- [ç¦æ­¢] å‡è®¾å‰ç«¯ä¼šæ ¡éªŒï¼Œåç«¯å°±ä¸æµ‹è¯•å¼‚å¸¸è¾“å…¥
- [ç¦æ­¢] ä½¿ç”¨"æ­£å¸¸å€¼ + è¾¹ç•Œå€¼"çš„ç®€å•ç»„åˆï¼Œæœªå•ç‹¬æµ‹è¯•æ¯ä¸ªè¾¹ç•Œ
- [ç¦æ­¢] å¿½ç•¥å®‰å…¨ç›¸å…³çš„è¾¹ç•Œå€¼ï¼ˆSQL æ³¨å…¥ã€XSS ç­‰ï¼‰

## å…­ã€æµ‹è¯•æ¨¡å—è®¾è®¡

### 6.1 æµ‹è¯•æ¨¡å—ç»“æ„

æ¯ä¸ªæ¨¡å—éµå¾ªç»Ÿä¸€çš„ç»“æ„ï¼š

```javascript
const { test, describe } = require('../lib/test-runner');
const { expect } = require('../lib/assertions');
const { getApiClient } = require('../context');

const apiClient = getApiClient();

describe('æ¨¡å—åç§°', () => {
  test('ç”¨ä¾‹æè¿°', async () => {
    // æµ‹è¯•é€»è¾‘
  });
});
```

### 6.2 æµ‹è¯•æ¨¡å—æ‰§è¡Œé¡ºåº

1. ç”¨æˆ·åˆ›å»ºæ¨¡å—ï¼ˆç”Ÿæˆå…¨å±€æµ‹è¯•æ•°æ®ï¼‰
2. è®¤è¯æ¨¡å—
3. è§’è‰²æƒé™æ¨¡å—
4. ä¸šåŠ¡åŠŸèƒ½æ¨¡å—
5. **ä¿®æ”¹å¯†ç æ¨¡å—ï¼ˆæœ€åæ‰§è¡Œï¼‰**

### 6.3 æµ‹è¯•è¦†ç›–

æ¯ä¸ª API è‡³å°‘åŒ…å«ï¼š

1. **æ­£å¸¸åœºæ™¯** - æ­£ç¡®çš„å‚æ•°ï¼ŒæœŸæœ›æˆåŠŸ
2. **è¾¹ç•Œæƒ…å†µ** - ç©ºå€¼ã€æé™å€¼ç­‰
3. **å¼‚å¸¸åœºæ™¯** - é”™è¯¯çš„å‚æ•°ã€ä¸å­˜åœ¨çš„èµ„æºç­‰
4. **ä¾èµ–å¼‚å¸¸** - ç¼ºå°‘å‰ç½®æ¡ä»¶ã€æ—¶åºé”™è¯¯ç­‰

ä¾èµ–å¼‚å¸¸æµ‹è¯•ç¤ºä¾‹ï¼š
- æœªç™»å½•è®¿é—®éœ€è¦è®¤è¯çš„æ¥å£ -> éªŒè¯è¿”å› error
- æ— æƒé™è®¿é—®éœ€è¦ç‰¹å®šè§’è‰²çš„æ¥å£ -> éªŒè¯è¿”å› error
- ä¼ é€’ä¸å­˜åœ¨çš„å…³è” ID -> éªŒè¯å‚æ•°é”™è¯¯
- Token è¿‡æœŸåç»§ç»­è¯·æ±‚ -> éªŒè¯è‡ªåŠ¨åˆ·æ–°æˆ–è¿”å› error

## ä¸ƒã€æµ‹è¯•éš”ç¦»ä¸çŠ¶æ€ç®¡ç†ï¼ˆé‡è¦ï¼‰

### 7.1 çŠ¶æ€æ±¡æŸ“é—®é¢˜

æŸäº›æµ‹è¯•æ“ä½œï¼ˆå¦‚é€€å‡ºç™»å½•ã€é‡ç½®å¯†ç ï¼‰ä¼šæ”¹å˜å…¨å±€çŠ¶æ€ï¼Œå½±å“å…¶ä»–æµ‹è¯•çš„æ‰§è¡Œã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¿…é¡»é‡‡ç”¨æµ‹è¯•éš”ç¦»ç­–ç•¥ã€‚

### 7.2 çŠ¶æ€å½±å“çš„æµ‹è¯•ç±»å‹

ä»¥ä¸‹æ“ä½œä¼šå½±å“å…¨å±€çŠ¶æ€ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼š

| æ“ä½œç±»å‹ | å½±å“èŒƒå›´ | éš”ç¦»ç­–ç•¥ |
|---------|----------|----------|
| é€€å‡ºç™»å½• | æ³¨é”€å½“å‰ tokenï¼Œæ‰€æœ‰éœ€è¦è®¤è¯çš„æ¥å£å°†æ— æ³•è®¿é—® | ä½¿ç”¨ç‹¬ç«‹ ApiClient å®ä¾‹ |
| é‡ç½®å¯†ç  | æ³¨é”€ç”¨æˆ·æ‰€æœ‰ sessionï¼Œéœ€è¦é‡æ–°ç™»å½• | ä½¿ç”¨ç‹¬ç«‹æµ‹è¯•è´¦æˆ· |
| åˆ é™¤èµ„æº | è¢«åˆ é™¤çš„èµ„æºæ— æ³•è¢«åç»­æµ‹è¯•ä½¿ç”¨ | åˆ›å»ºæµ‹è¯•ä¸“ç”¨èµ„æº |

### 7.3 æµ‹è¯•éš”ç¦»è§„èŒƒ

#### 1. ä½¿ç”¨ç‹¬ç«‹çš„ ApiClient å®ä¾‹

å¯¹äºä¼šå½±å“å…¨å±€çŠ¶æ€çš„æµ‹è¯•ï¼ˆå¦‚é€€å‡ºç™»å½•ï¼‰ï¼Œå¿…é¡»åˆ›å»ºç‹¬ç«‹çš„ ApiClient å®ä¾‹ï¼š

```javascript
// æ­£ç¡®ï¼šä½¿ç”¨ç‹¬ç«‹ ApiClient é¿å…çŠ¶æ€æ±¡æŸ“ï¼Œæ•°æ®ç”± Mock.js åŠ¨æ€ç”Ÿæˆ
const mock = require('mockjs');

test('é€€å‡ºç™»å½• - å®Œæ•´æµç¨‹æµ‹è¯•', async () => {
  // åˆ›å»ºç‹¬ç«‹çš„ ApiClient å®ä¾‹
  const testClient = createApiClient();

  // åŠ¨æ€ç”Ÿæˆæµ‹è¯•è´¦æˆ·æ•°æ®
  const testAccount = {
    username: mock('@word'),
    password: mock('@string("lower", 8, 16)')
  };

  // å…ˆç™»å½•
  const loginResponse = await testClient.post('/auth/login', {
    username: testAccount.username,
    password: testAccount.password
  }, { expect: 'success' });
  const token = loginResponse.datum.accessToken;
  testClient.setToken(token);

  // éªŒè¯å¯ä»¥è®¿é—®
  await testClient.get('/auth/me', null, { expect: 'success' });

  // é€€å‡ºç™»å½•
  await testClient.post('/auth/logout', null, { expect: 'success' });

  // éªŒè¯æ— æ³•è®¿é—®
  await testClient.get('/auth/me', null, { expect: 'error' });

  // é‡æ–°ç™»å½•
  const reLoginResponse = await testClient.post('/auth/login', {
    username: testAccount.username,
    password: testAccount.password
  }, { expect: 'success' });
  const newToken = reLoginResponse.datum.accessToken;

  // æ¢å¤ä¸» apiClient çš„çŠ¶æ€
  apiClient.setToken(newToken);
  setAdminToken(newToken);
});
```

#### 2. æµ‹è¯•æµç¨‹è§„èŒƒ

å¯¹äºä¼šå½±å“çŠ¶æ€çš„æµ‹è¯•ï¼Œéµå¾ªä»¥ä¸‹æµç¨‹ï¼š

```
1. åˆ›å»ºç‹¬ç«‹çš„ ApiClient å®ä¾‹
2. é‡æ–°ç™»å½•è·å–æ–°çš„ token
3. æ‰§è¡Œä¼šå½±å“çŠ¶æ€çš„æ“ä½œï¼ˆå¦‚é€€å‡ºç™»å½•ï¼‰
4. éªŒè¯æ“ä½œç»“æœ
5. é‡æ–°ç™»å½•æ¢å¤çŠ¶æ€
6. æ›´æ–°ä¸» apiClient çš„ token
```

#### 3. ç‹¬ç«‹æµ‹è¯•è´¦æˆ·

å¯¹äºé‡ç½®å¯†ç ç­‰ä¼šå½±å“ç”¨æˆ·æ‰€æœ‰ session çš„æ“ä½œï¼š

```javascript
// ä½¿ç”¨ä¸“é—¨çš„æµ‹è¯•è´¦æˆ·ï¼Œæ•°æ®ç”± Mock.js åŠ¨æ€ç”Ÿæˆ
const mock = require('mockjs');

const TEST_ACCOUNTS = {
  resetPassword: {
    username: mock('@word'),
    password: mock('@string("lower", 8, 16)')
  },
  logout: {
    username: mock('@word'),
    password: mock('@string("lower", 8, 16)')
  }
};
```

### 7.4 ç¦æ­¢äº‹é¡¹

- [ç¦æ­¢] åœ¨ä¼šå½±å“çŠ¶æ€çš„æµ‹è¯•ä¸­ä½¿ç”¨å…±äº«çš„ apiClient å®ä¾‹
- [ç¦æ­¢] åœ¨é€€å‡ºç™»å½•æµ‹è¯•åä¸æ¢å¤ token çŠ¶æ€
- [ç¦æ­¢] ä½¿ç”¨ä¸»æµ‹è¯•è´¦æˆ·è¿›è¡Œé‡ç½®å¯†ç æµ‹è¯•
- [ç¦æ­¢] ç¡¬ç¼–ç æµ‹è¯•è´¦æˆ·æ•°æ®ï¼ˆå¦‚ `username: 'admin', password: 'admin123'`ï¼‰ï¼Œæ”¹å¯†ç åä¼šå¯¼è‡´åç»­æµ‹è¯•å¤±è´¥
- [ç¦æ­¢] å…±äº«åŒä¸€æµ‹è¯•è´¦æˆ·è¿›è¡Œä¼šå½±å“çŠ¶æ€çš„æµ‹è¯•

### 7.5 å¿…é¡»ä½¿ç”¨

- [æ­£ç¡®] çŠ¶æ€å½±å“æµ‹è¯•ä½¿ç”¨ç‹¬ç«‹ ApiClient å®ä¾‹
- [æ­£ç¡®] æµ‹è¯•ç»“æŸåæ¢å¤å…±äº«çŠ¶æ€ï¼ˆå¦‚æ›´æ–°ä¸» apiClient çš„ tokenï¼‰
- [æ­£ç¡®] é‡ç½®å¯†ç ç­‰æ“ä½œä½¿ç”¨ä¸“é—¨çš„æµ‹è¯•è´¦æˆ·
- [æ­£ç¡®] æµ‹è¯•æ¨¡å—åœ¨ after é’©å­ä¸­æ¢å¤ç¯å¢ƒ

## å…«ã€æ ¸å¿ƒæ¨¡å— API

### 8.1 è¿›ç¨‹ç®¡ç†å™¨ (utils/process-manager.js)

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| findBackendProcess(port) | æŸ¥æ‰¾ç°æœ‰åç«¯è¿›ç¨‹ |
| killProcess(pid, options) | ç»ˆæ­¢è¿›ç¨‹ |
| startBackend(command, args, options) | å¯åŠ¨åç«¯æœåŠ¡ |
| healthCheck(url, options) | å¥åº·æ£€æŸ¥ |

### 8.2 HTTP å®¢æˆ·ç«¯ (lib/api-client.js)

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| setToken(token) | è®¾ç½®è®¤è¯ token |
| getToken() | è·å–è®¤è¯ token |
| get(url, params, config) | GET è¯·æ±‚ |
| post(url, data, config) | POST è¯·æ±‚ |
| put(url, data, config) | PUT è¯·æ±‚ |
| delete(url, config) | DELETE è¯·æ±‚ |

config å‚æ•°ï¼š
```javascript
{
  expect: 'success' | 'error'  // å¿…å¡«ï¼šé¢„æœŸç»“æœ
}
```

### 8.3 æ•°æ®è¿½è¸ªå™¨ (utils/data-tracker.js)

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| startSession() | å¼€å§‹æ–°çš„æµ‹è¯•ä¼šè¯ |
| track(module, data) | è®°å½•åˆ›å»ºçš„æ•°æ® |
| get(module) | è·å–æ¨¡å—çš„æµ‹è¯•æ•°æ® |
| getAll() | è·å–æ‰€æœ‰æµ‹è¯•æ•°æ® |
| clear() | æ¸…ç©ºè¿½è¸ªè®°å½• |

### 8.4 æ•°æ®æ¸…ç†å™¨ (utils/data-cleaner.js)

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| setApiClient(client) | è®¾ç½® API å®¢æˆ·ç«¯ |
| setDataTracker(tracker) | è®¾ç½®æ•°æ®è¿½è¸ªå™¨ |
| cleanModule(module) | æ¸…ç†æŒ‡å®šæ¨¡å—çš„æ•°æ® |
| cleanAll() | æ¸…ç†æ‰€æœ‰æµ‹è¯•æ•°æ® |

### 8.5 æµ‹è¯•è¿è¡Œå™¨ (lib/test-runner.js)

| å‡½æ•° | è¯´æ˜ |
|------|------|
| describe(name, fn) | å®šä¹‰æµ‹è¯•å¥—ä»¶ |
| test(description, fn) | å®šä¹‰æµ‹è¯•ç”¨ä¾‹ |
| test.skip(description, fn) | è·³è¿‡æµ‹è¯• |
| test.only(description, fn) | åªè¿è¡Œæ­¤æµ‹è¯• |
| before(fn) | æ‰€æœ‰æµ‹è¯•å‰æ‰§è¡Œ |
| beforeEach(fn) | æ¯ä¸ªæµ‹è¯•å‰æ‰§è¡Œ |
| after(fn) | æ‰€æœ‰æµ‹è¯•åæ‰§è¡Œ |

### 8.6 æ–­è¨€å·¥å…· (lib/assertions.js)

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| expect(actual).to.equal(expected) | ç›¸ç­‰æ–­è¨€ |
| expect(array).to.include(item) | åŒ…å«æ–­è¨€ |
| expect(value).to.be.truthy() | çœŸå€¼æ–­è¨€ |
| expect(value).to.be.falsy() | å‡å€¼æ–­è¨€ |
| expect(response).to.have.success() | API æˆåŠŸæ–­è¨€ |
| expect(response).to.have.datum() | API æœ‰æ•°æ®æ–­è¨€ |

## ä¹ã€ä½¿ç”¨ç¤ºä¾‹

### 9.1 è¿è¡Œå…¨éƒ¨æµ‹è¯•

```bash
cd server && node test/api/runner.js
```

### 9.2 è¿è¡Œå•ä¸ªæ¨¡å—

```bash
cd server && node test/api/runner.js --module=auth
```

### 9.3 å‘½ä»¤è¡Œå‚æ•°

```bash
node test/api/runner.js --module=auth    # æŒ‡å®šæ¨¡å—
node test/api/runner.js --verbose        # è¯¦ç»†è¾“å‡º
node test/api/runner.js --no-restart     # ä¸é‡å¯åç«¯
```

## åã€éªŒæ”¶æ ‡å‡†

### 10.1 åŠŸèƒ½å®Œæ•´æ€§

- æ‰€æœ‰ API ç«¯ç‚¹éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
- æ¯ä¸ª API è‡³å°‘æœ‰ 3 ç§æµ‹è¯•åœºæ™¯ï¼ˆæ­£å¸¸ã€è¾¹ç•Œã€å¼‚å¸¸ï¼‰
- æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 100%

### 10.2 ç¨³å®šæ€§

- æ”¯æŒåœ¨ä¸åŒç¯å¢ƒè¿è¡Œ
- å¤±è´¥åæœ‰æ˜ç¡®çš„é”™è¯¯ä¿¡æ¯
